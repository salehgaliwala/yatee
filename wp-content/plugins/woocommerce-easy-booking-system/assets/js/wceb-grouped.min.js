(function(d){d(document).ready(function(){function l(b,a){b.sort();a.sort();if(b.length!=a.length)return!0;for(var c=0;c<b.length;c++)if(b[c]!=a[c])return!0;return!1}function g(){wceb.pickers.reset();wceb.clearBookingSession();$reset_dates.hide();m()}function m(){d(this);var b=[];totalGroupedRegularPrice=totalGroupedPrice=0;var a=wceb.get.childrenIds();d.each(a,function(f,e){var h=wceb_object.product_price[f],k=wceb_object.product_regular_price[f];0<e&&(totalGroupedPrice+=parseFloat(h*e),totalGroupedRegularPrice=
""!==k?totalGroupedRegularPrice+parseFloat(k*e):totalGroupedRegularPrice+parseFloat(h*e));b.push(e)});max_qty=Math.max.apply(Math,b);0<max_qty?$pickerWrap.slideDown(200):$pickerWrap.hide();$bookingPrice.attr("data-booking_price",totalGroupedPrice);a=wceb.formatPrice(wceb.get.basePrice());var c='<span class="woocommerce-Price-amount amount">'+a+"</span>";totalGroupedPrice!==totalGroupedRegularPrice&&($bookingPrice.attr("data-booking_regular_price",totalGroupedRegularPrice),c='<del><span class="woocommerce-Price-amount amount">'+
wceb.formatPrice(wceb.get.regularPrice())+'</span></del> <ins><span class="woocommerce-Price-amount amount">'+a+"</span></ins>");$bookingPrice.html('<span class="price">'+c+"</span>")}wceb.dateFormat=wceb_object.booking_dates;wceb.firstDate=parseInt(wceb_object.first_date);wceb.bookingMin=parseInt(wceb_object.min);wceb.bookingMax=""===wceb_object.max?"":parseInt(wceb_object.max);wceb.bookingDuration=parseInt(wceb_object.booking_duration);wceb.priceHtml=wceb_object.prices_html;$pickerWrap=d(".wceb_picker_wrap");
$reset_dates=$pickerWrap.find("a.reset_dates");$bookingPrice=d(".booking_price");$pickerWrap.hide();wceb.pickers.init();d(".cart").on("change",".quantity input.qty, .wc-grouped-product-add-to-cart-checkbox",function(){var b=wceb.get.childrenIds(),a=$reset_dates.attr("data-ids");""!==a?(a=JSON.parse(a),!0===l(Object.keys(b),Object.keys(a))?action="init":d.each(b,function(c,f){if(a[c]!==f)return action="update",!1;action=!1;return!0})):action="init";$reset_dates.attr("data-ids",JSON.stringify(b));"init"===
action?g():"update"===action&&("two"===wceb.dateFormat&&wceb.checkIf.datesAreSet()?wceb.setPrice():"one"===wceb.dateFormat&&wceb.checkIf.dateIsSet("start")?wceb.picker.set():g())})})})(jQuery);