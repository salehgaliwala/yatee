jQuery(function(t){if("undefined"==typeof wc_country_select_params)return!1;var e=wc_country_select_params.countries.replace(/&quot;/g,'"'),n=t.parseJSON(e);t(document.body).on("change","select.country_to_state, input.country_to_state",function(){var e=t(this).closest(".store-address-info, .vendor-preview-form");e.length||(e=t(this).closest(".form-row").parent());var r=t(this).val(),a=t("#vendor_state"),o=a.parent(),c=a.attr("name"),i=a.attr("id"),s=a.val(),l=a.attr("placeholder")||a.attr("data-placeholder")||"";if(n[r])if(t.isEmptyObject(n[r]))a.parents(".vendor_state_wrapper").hide(),a.replaceWith('<input type="hidden" class="hidden" name="'+c+'" id="'+i+'" value="" placeholder="'+l+'" />'),t(document.body).trigger("country_to_state_changed",[r,e]);else{var d="",p=n[r];for(var u in p)p.hasOwnProperty(u)&&(d=d+'<option value="'+u+'">'+p[u]+"</option>");a.parent().show(),a.is("input")&&(a.replaceWith('<select name="'+c+'" id="'+i+'" class="state_select select_box form-control inp-btm-margin regular-select" data-placeholder="'+l+'"></select>'),a=t("#vendor_state")),a.html('<option value="">'+wc_country_select_params.i18n_select_state_text+"</option>"+d),a.val(s).change(),t(document.body).trigger("country_to_state_changed",[r,e])}else a.is("select")?(o.show().find(".select2-container").remove(),a.replaceWith('<input type="text" class="form-control inp-btm-margin regular-text input-text" name="'+c+'" id="'+i+'" placeholder="'+l+'" style="display:none;" />'),t(document.body).trigger("country_to_state_changed",[r,e])):a.is('input[type="hidden"]')&&(o.show().find(".select2-container").remove(),a.replaceWith('<input type="text" class="form-control inp-btm-margin regular-text input-text" name="'+c+'" id="'+i+'" placeholder="'+l+'" style="display:none;" />'),t(document.body).trigger("country_to_state_changed",[r,e]));t(document.body).trigger("country_to_state_changing",[r,e])}).trigger("change"),t(function(){t(":input.country_to_state").change()})});