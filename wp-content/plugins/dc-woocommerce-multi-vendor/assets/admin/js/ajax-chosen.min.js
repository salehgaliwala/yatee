!function(l){l.fn.ajaxChosen=function(t,s){var e,n,u,h;return null==t&&(t={}),null==s&&(s=function(){}),n={minTermLength:3,afterTypeDelay:500,jsonTermKey:"term"},h=this,e=null,u=l.extend({},n,t),this.chosen(),this.each(function(){return l(this).next(".chosen-container").find(".search-field > input, .chosen-search > input").bind("keyup",function(){var a,t,i,r;return t=(r=l.trim(l(this).attr("value"))).length<u.minTermLength?"Keep typing...":"Looking for '"+r+"'",h.next(".chosen-container").find(".no-results").text(t),r!==l(this).data("prevVal")&&(l(this).data("prevVal",r),this.timer&&clearTimeout(this.timer),!(r.length<u.minTermLength)&&(a=l(this),null==u.data&&(u.data={}),u.data[u.jsonTermKey]=r,null!=u.dataCallback&&(u.data=u.dataCallback(u.data)),i=u.success,u.success=function(t){var e,n;if(null!=t)return n=[],h.find("option").each(function(){return l(this).is(":selected")?n.push(l(this).val()+"-"+l(this).text()):l(this).remove()}),e=s(t),l.each(e,function(t,e){if(-1===l.inArray(t+"-"+e,n))return l("<option />").attr("value",t).html(e).appendTo(h)}),h.trigger("chosen:updated"),null!=i&&i(t),a.attr("value",r),a.css("width","auto")},this.timer=setTimeout(function(){return e&&e.abort(),e=l.ajax(u)},u.afterTypeDelay)))})})}}(jQuery);